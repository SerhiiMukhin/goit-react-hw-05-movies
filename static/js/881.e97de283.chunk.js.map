{"version":3,"file":"static/js/881.e97de283.chunk.js","mappings":"mOACA,EAAuB,qBAAvB,EAAoD,sBAApD,EAAmF,uBAAnF,EAAiH,qBAAjH,EAA6I,qBAA7I,EAA4K,wBAA5K,EAAkN,4B,SC0DlN,EAtDe,WAAO,IAAD,EACnB,GAAwCA,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACMC,GAAWC,EAAAA,EAAAA,MAEXC,EAAK,UAAGP,EAAaQ,IAAI,gBAApB,QAAgC,GAiB3C,OARAC,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,IAAiBH,GACdI,MAAK,SAAAC,GACJR,EAAUQ,EAASC,QACpB,IACAC,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,EAAhB,GACf,GAAE,CAACR,KAGF,4BACE,kBAAMW,SAjBW,SAAAC,GACnBA,EAAMC,iBACN,IAAMC,EAAOF,EAAMG,OACnBrB,EAAgB,CAAEM,MAAOY,EAAMG,OAAOf,MAAMgB,MAAMC,SAClDH,EAAKI,OACN,EAYiCC,UAAWC,EAAzC,WACE,kBAAOC,KAAK,OAAOC,KAAK,QAAQH,UAAWC,KAC3C,mBAAQC,KAAK,SAASF,UAAWC,EAAjC,uBAES,KAAVpB,IACC,eAAImB,UAAWC,EAAf,SACGxB,EAAO2B,KAAI,SAAAC,GACV,OACE,SAAC,KAAD,CAAMC,GAAE,UAAKD,EAAKE,IAAMC,MAAO,CAAEC,KAAM9B,GAAvC,UACE,eAAIqB,UAAWC,EAAf,SAC0B,OAAvBI,EAAKK,eACJ,gBACEC,IAAG,yCAAoCN,EAAKK,eAC5CE,IAAKP,EAAKQ,MACVA,MAAOR,EAAKQ,MACZb,UAAWC,KAGb,gBAAKD,UAAWC,EAAhB,yCAVkDI,EAAKE,GAehE,QAKV,C,+LCvDKO,EAAW,gCACXC,EAAU,mCAET,SAAeC,IAAtB,4CAAO,OAAP,oBAAO,oGACoBC,EAAAA,EAAAA,IAAA,UAClBH,EADkB,sCACoBC,IAFxC,cACG7B,EADH,yBAIIA,EAASgC,MAJb,kEAOA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAA4BC,GAA5B,uFACoBH,EAAAA,EAAAA,IAAA,UAClBH,EADkB,iBACDM,EADC,oBACkBL,EADlB,oBADpB,cACG7B,EADH,yBAIIA,EAASgC,MAJb,kEAOA,SAAeG,EAAtB,+CAAO,OAAP,oBAAO,WAA+BD,GAA/B,uFACoBH,EAAAA,EAAAA,IAAA,UAClBH,EADkB,iBACDM,EADC,4BAC0BL,EAD1B,oBADpB,cACG7B,EADH,yBAIIA,EAASgC,MAJb,kEAOA,SAAeI,EAAtB,+CAAO,OAAP,oBAAO,WAA+BF,GAA/B,uFACoBH,EAAAA,EAAAA,IAAA,UAClBH,EADkB,iBACDM,EADC,4BAC0BL,EAD1B,oBADpB,cACG7B,EADH,yBAIIA,EAASgC,MAJb,kEAOA,SAAelC,EAAtB,+CAAO,OAAP,oBAAO,WAAgCH,GAAhC,uFACoBoC,EAAAA,EAAAA,IAAA,UAClBH,EADkB,gCACcC,EADd,iCAC8ClC,IAFlE,cACGK,EADH,yBAIIA,EAASgC,MAJb,kE","sources":["webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx","utils/API.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Movies_form__4ow+Z\",\"input\":\"Movies_input__KrUqs\",\"button\":\"Movies_button__GcIka\",\"list\":\"Movies_list__hqYjd\",\"card\":\"Movies_card__h5SV+\",\"homeImg\":\"Movies_homeImg__NQLD3\",\"placeholder\":\"Movies_placeholder__NQC4f\"};","import { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport { getMoviesByQuery } from 'utils/API';\nimport { useState, useEffect } from 'react';\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [result, setResult] = useState([]);\n  const location = useLocation();\n\n  const query = searchParams.get('query') ?? '';\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const form = event.target;\n    setSearchParams({ query: event.target.query.value.trim() });\n    form.reset();\n  };\n\n  useEffect(() => {\n    getMoviesByQuery(query)\n      .then(response => {\n        setResult(response.results);\n      })\n      .catch(error => console.log(error));\n  }, [query]);\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit} className={css.form}>\n        <input type=\"text\" name=\"query\" className={css.input} />\n        <button type=\"submit\" className={css.button}>Search</button>\n      </form>\n      {query !== '' && (\n        <ul className={css.list}>\n          {result.map(item => {\n            return (\n              <Link to={`${item.id}`} state={{ from: location }} key={item.id}>\n                <li className={css.card}>\n                  {item.backdrop_path !== null ? (\n                    <img\n                      src={`https://image.tmdb.org/t/p/w300${item.backdrop_path}`}\n                      alt={item.title}\n                      title={item.title}\n                      className={css.homeImg}\n                    />\n                  ) : (\n                    <div className={css.placeholder}>Sorry, no image found :(</div>\n                  )}\n                </li>\n              </Link>\n            );\n          })}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = 'a59dfea75e9e40e203f0819879862061';\n\nexport async function getTrendingMovies() {\n    const response = await axios.get(\n      `${BASE_URL}trending/movie/day?api_key=${API_KEY}`\n    );\n    return response.data;\n}\n\nexport async function getMovieById(movieId) {\n    const response = await axios.get(\n      `${BASE_URL}movie/${movieId}?api_key=${API_KEY}&language=en-US`\n    );\n    return response.data;\n}\n\nexport async function getMovieCredits(movieId) {\n    const response = await axios.get(\n      `${BASE_URL}movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n    );\n    return response.data;\n}\n\nexport async function getMovieReviews(movieId) {\n    const response = await axios.get(\n      `${BASE_URL}movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US`\n    );\n    return response.data;\n}\n\nexport async function getMoviesByQuery(query) {\n    const response = await axios.get(\n      `${BASE_URL}search/movie?api_key=${API_KEY}&language=en-US&query=${query}`\n    );\n    return response.data;\n}\n"],"names":["useSearchParams","searchParams","setSearchParams","useState","result","setResult","location","useLocation","query","get","useEffect","getMoviesByQuery","then","response","results","catch","error","console","log","onSubmit","event","preventDefault","form","target","value","trim","reset","className","css","type","name","map","item","to","id","state","from","backdrop_path","src","alt","title","BASE_URL","API_KEY","getTrendingMovies","axios","data","getMovieById","movieId","getMovieCredits","getMovieReviews"],"sourceRoot":""}